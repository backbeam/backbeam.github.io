<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>JavaScript SDK | Backbeam.io documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="backbeam">
        <meta name="description" content="Welcome to the Backbeam documentation. This documentation describes the [Backbeam.io service](https://backbeam.io) and its SDKs.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./javascript-data.html" />
        
        
        <link rel="prev" href="./android-realtime.html" />
        

        <meta property="og:title" content="JavaScript SDK | Backbeam.io documentation">
        <meta property="og:site_name" content="Backbeam.io documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/backbeam">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="backbeam/backbeam.github.io" data-level="4" data-basepath="." data-revision="1400118303354">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://backbeam.io/documentation" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/backbeam/backbeam.github.io/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/backbeam/backbeam.github.io/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Backbeam.io documentation</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        

        

        
        <li>
            <a href="https://github.com/backbeam/backbeam.github.io/edit/master/javascript-sdk.md" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="overview.html">
                
                <a href="./overview.html">
                    <i class="fa fa-check"></i> <b>1.</b> Features
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="overview-query-language.html">
                            
                            <a href="./overview-query-language.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Query language
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="overview-business-logic.html">
                            
                            <a href="./overview-business-logic.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Where to write the business logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="overview-authentication.html">
                            
                            <a href="./overview-authentication.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="overview-push-notifications.html">
                            
                            <a href="./overview-push-notifications.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="overview-email-delivery.html">
                            
                            <a href="./overview-email-delivery.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Email templates and delivery
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="overview-realtime.html">
                            
                            <a href="./overview-realtime.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="overview-templating-engine.html">
                            
                            <a href="./overview-templating-engine.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> Templating engine
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="ios-sdk.html">
                
                <a href="./ios-sdk.html">
                    <i class="fa fa-check"></i> <b>2.</b> iOS SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="ios-objects.html">
                            
                            <a href="./ios-objects.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Objects and query results
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="ios-data.html">
                            
                            <a href="./ios-data.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="ios-authentication.html">
                            
                            <a href="./ios-authentication.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="ios-server-side-logic.html">
                            
                            <a href="./ios-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="ios-push-notifications.html">
                            
                            <a href="./ios-push-notifications.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="ios-realtime.html">
                            
                            <a href="./ios-realtime.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="android-sdk.html">
                
                <a href="./android-sdk.html">
                    <i class="fa fa-check"></i> <b>3.</b> Android SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="android-objects.html">
                            
                            <a href="./android-objects.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Objects and query results
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="android-data.html">
                            
                            <a href="./android-data.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="android-authentication.html">
                            
                            <a href="./android-authentication.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="android-server-side-logic.html">
                            
                            <a href="./android-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="android-push-notifications.html">
                            
                            <a href="./android-push-notifications.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="android-realtime.html">
                            
                            <a href="./android-realtime.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="javascript-sdk.html">
                
                <a href="./javascript-sdk.html">
                    <i class="fa fa-check"></i> <b>4.</b> JavaScript SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="javascript-data.html">
                            
                            <a href="./javascript-data.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="javascript-authentication.html">
                            
                            <a href="./javascript-authentication.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="javascript-server-side-logic.html">
                            
                            <a href="./javascript-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="javascript-push-notifications.html">
                            
                            <a href="./javascript-push-notifications.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="javascript-realtime.html">
                            
                            <a href="./javascript-realtime.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="web-development.html">
                
                <a href="./web-development.html">
                    <i class="fa fa-check"></i> <b>5.</b> Web development
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="web-development-versioning.html">
                            
                            <a href="./web-development-versioning.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Versioning
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="web-development-controllers.html">
                            
                            <a href="./web-development-controllers.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Controllers
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="web-development-domains.html">
                            
                            <a href="./web-development-domains.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Subdomains and custom domain
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="web-development-views.html">
                            
                            <a href="./web-development-views.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Views (templates)
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="web-development-assets.html">
                            
                            <a href="./web-development-assets.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> Assets
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="rest-api.html">
                
                <a href="./rest-api.html">
                    <i class="fa fa-check"></i> <b>6.</b> REST API
                </a>
                
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 65.71428571428571%;min-width: 62.857142857142854%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Features" class="chapter done new-chapter" data-progress="1" style="left: 2.857142857142857%;"></a>
    
        <a href="./overview-query-language.html" title="Query language" class="chapter done " data-progress="1.1" style="left: 5.714285714285714%;"></a>
    
        <a href="./overview-business-logic.html" title="Where to write the business logic" class="chapter done " data-progress="1.2" style="left: 8.571428571428571%;"></a>
    
        <a href="./overview-authentication.html" title="Users authentication" class="chapter done " data-progress="1.3" style="left: 11.428571428571429%;"></a>
    
        <a href="./overview-push-notifications.html" title="Push notifications" class="chapter done " data-progress="1.4" style="left: 14.285714285714286%;"></a>
    
        <a href="./overview-email-delivery.html" title="Email templates and delivery" class="chapter done " data-progress="1.5" style="left: 17.142857142857142%;"></a>
    
        <a href="./overview-realtime.html" title="Realtime" class="chapter done " data-progress="1.6" style="left: 20%;"></a>
    
        <a href="./overview-templating-engine.html" title="Templating engine" class="chapter done " data-progress="1.7" style="left: 22.857142857142858%;"></a>
    
        <a href="./ios-sdk.html" title="iOS SDK" class="chapter done new-chapter" data-progress="2" style="left: 25.714285714285715%;"></a>
    
        <a href="./ios-objects.html" title="Objects and query results" class="chapter done " data-progress="2.1" style="left: 28.571428571428573%;"></a>
    
        <a href="./ios-data.html" title="Manipulating data" class="chapter done " data-progress="2.2" style="left: 31.428571428571427%;"></a>
    
        <a href="./ios-authentication.html" title="Users authentication" class="chapter done " data-progress="2.3" style="left: 34.285714285714285%;"></a>
    
        <a href="./ios-server-side-logic.html" title="Server side logic" class="chapter done " data-progress="2.4" style="left: 37.142857142857146%;"></a>
    
        <a href="./ios-push-notifications.html" title="Push notifications" class="chapter done " data-progress="2.5" style="left: 40%;"></a>
    
        <a href="./ios-realtime.html" title="Realtime" class="chapter done " data-progress="2.6" style="left: 42.857142857142854%;"></a>
    
        <a href="./android-sdk.html" title="Android SDK" class="chapter done new-chapter" data-progress="3" style="left: 45.714285714285715%;"></a>
    
        <a href="./android-objects.html" title="Objects and query results" class="chapter done " data-progress="3.1" style="left: 48.57142857142857%;"></a>
    
        <a href="./android-data.html" title="Manipulating data" class="chapter done " data-progress="3.2" style="left: 51.42857142857143%;"></a>
    
        <a href="./android-authentication.html" title="Users authentication" class="chapter done " data-progress="3.3" style="left: 54.285714285714285%;"></a>
    
        <a href="./android-server-side-logic.html" title="Server side logic" class="chapter done " data-progress="3.4" style="left: 57.142857142857146%;"></a>
    
        <a href="./android-push-notifications.html" title="Push notifications" class="chapter done " data-progress="3.5" style="left: 60%;"></a>
    
        <a href="./android-realtime.html" title="Realtime" class="chapter done " data-progress="3.6" style="left: 62.857142857142854%;"></a>
    
        <a href="./javascript-sdk.html" title="JavaScript SDK" class="chapter done new-chapter" data-progress="4" style="left: 65.71428571428571%;"></a>
    
        <a href="./javascript-data.html" title="Manipulating data" class="chapter  " data-progress="4.1" style="left: 68.57142857142857%;"></a>
    
        <a href="./javascript-authentication.html" title="Users authentication" class="chapter  " data-progress="4.2" style="left: 71.42857142857143%;"></a>
    
        <a href="./javascript-server-side-logic.html" title="Server side logic" class="chapter  " data-progress="4.3" style="left: 74.28571428571429%;"></a>
    
        <a href="./javascript-push-notifications.html" title="Push notifications" class="chapter  " data-progress="4.4" style="left: 77.14285714285714%;"></a>
    
        <a href="./javascript-realtime.html" title="Realtime" class="chapter  " data-progress="4.5" style="left: 80%;"></a>
    
        <a href="./web-development.html" title="Web development" class="chapter  new-chapter" data-progress="5" style="left: 82.85714285714286%;"></a>
    
        <a href="./web-development-versioning.html" title="Versioning" class="chapter  " data-progress="5.1" style="left: 85.71428571428571%;"></a>
    
        <a href="./web-development-controllers.html" title="Controllers" class="chapter  " data-progress="5.2" style="left: 88.57142857142857%;"></a>
    
        <a href="./web-development-domains.html" title="Subdomains and custom domain" class="chapter  " data-progress="5.3" style="left: 91.42857142857143%;"></a>
    
        <a href="./web-development-views.html" title="Views (templates)" class="chapter  " data-progress="5.4" style="left: 94.28571428571429%;"></a>
    
        <a href="./web-development-assets.html" title="Assets" class="chapter  " data-progress="5.5" style="left: 97.14285714285714%;"></a>
    
        <a href="./rest-api.html" title="REST API" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_20">
                    
                        <h1 id="javascript-sdk">JavaScript SDK</h1>
<p>This documentation is valid for both the server-side code (libs and controllers in a backbeam project) and for the backbeam.js SDK. The backbeam.js SDK is intented to be used in embedded mobile web applications (i.e. applications based on a webview embedded in a native application) or as a Node.js package. This JavaScript SDK has also been tested in Titanium Appcelerator.</p>
<p>Do not include your API keys in any place that can be visible easily. If you are doing a hosted web application take a look at the <a href="https://backbeam.io/article/introducing-the-new-micro-javascript-sdk" target="_blank">micro JavaScript SDK</a>.</p>
<p>The source code of this SDK is hosted in <a href="https://github.com/backbeam/backbeamjs" target="_blank">a repository in GitHub</a>.</p>
<h2 id="dependencies">Dependencies</h2>
<p>When using the JavaScript SDK inside a webview or a web browser a few functions need some libraries in order to do some cryptography. They are included in the git repository: hmac-sha1.js and enc-base64.js. Additionally if you want to use the cache mechanism in your queries you need to include the cache.js file.</p>
<p>The node.js package is available using <a href="https://npmjs.org/package/backbeam" target="_blank">npm</a>. You can install it using <code>npm install backbeam</code>.</p>
<p>The server-side code has no dependencies. You can use the backbeam object directly.</p>
<h2 id="configure-your-application">Configure your application</h2>
<p>This step is not needed for server-side code. It is also not required if you are using the micro-SDK</p>
<pre><code class="lang-javascript">backbeam.configure({
    project: <span class="hljs-string">'your-project-name'</span>, <span class="hljs-comment">// the subdomain of your project</span>
    env: <span class="hljs-string">'dev'</span>, <span class="hljs-comment">// can be 'dev' or 'pro'</span>
    protocol: <span class="hljs-string">'http'</span>, <span class="hljs-comment">// can be 'http' or 'https'</span>

    <span class="hljs-comment">// The shared and secret keys are not needed if you only invoke controllers or use the real-time API</span>
    shared: <span class="hljs-string">'your-shared-key'</span>,
    secret: <span class="hljs-string">'your-secret-secret'</span>,

    <span class="hljs-comment">// These are only needed if you invoke controllers</span>
    webVersion: <span class="hljs-string">'v1'</span>, <span class="hljs-comment">// it's the web version you want to invoke</span>
    httpAuth: <span class="hljs-string">'xxxx'</span>, <span class="hljs-comment">// it's the authorization password you will see in 'Views and controllers' in your control panel</span>
})
</code></pre>
<h2 id="objects">Objects</h2>
<p>Most of the time you will read and manipulate the data stored in the database using objects. You will receive objects when making queries and you will create and update objects to manipulate the data in the database. You will access its fields and some other metainformation. These are the most important methods in these objects:</p>
<ul>
<li><code>id()</code>. Returns a string containing the unique object identifier</li>
<li><code>createdAt()</code>. Returns a Date object indicating when the user was created</li>
<li><code>updatedAt()</code>. Returns a Date object indicating when the user was updated for the last time</li>
<li><code>get(field)</code>. Returns the value of the given field</li>
<li><code>set(field, val)</code>. Sets the value of the given field. The new value is not synched with the backend until you perform a <code>save()</code> operation</li>
<li><code>add(field, obj)</code>. Adds an object to a relationship. For example you could do event.add(&#39;attendees&#39;, user) if you have an &#39;event&#39; entitity with a relationship &#39;to many&#39; called &#39;attendees&#39;. The relationship is synched when you perform a <code>save()</code> operation</li>
<li><code>rem(field, obj)</code>. The opposite of the add() method.</li>
</ul>
<h2 id="join-results">Join results</h2>
<p>Many times you will perform joins in your BQL queries and other operations. If the join is made in a relationship &quot;to one&quot; you can just use <code>object.get(&#39;fieldName&#39;)</code> to get the value of the relationship. Let&#39;s see an example of a BQL query with a join &quot;to one&quot; (you will learn more about queries in the next section):</p>
<pre><code class="lang-javascript">backbeam.select(<span class="hljs-string">'event'</span>).query(<span class="hljs-string">'join place'</span>).fetch(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, objects, totalCount, fromCache)</span> {</span>
    <span class="hljs-keyword">var</span> event = objects[<span class="hljs-number">0</span>] <span class="hljs-comment">// pick an event (in real code check the error and the array length)</span>
    <span class="hljs-keyword">var</span> place = event.get(<span class="hljs-string">'place'</span>) <span class="hljs-comment">// here you have the joined object</span>
})
</code></pre>
<p>You can also make joins in the &quot;to many&quot; side of a relationship. In that case you can fetch a number of objects in the relationship and you always can get the total number of objects in the relationship.</p>
<pre><code class="lang-javascript">backbeam.select(<span class="hljs-string">'place'</span>).query(<span class="hljs-string">'join last 10 events'</span>).fetch(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, objects, totalCount, fromCache)</span> {</span>
    <span class="hljs-keyword">var</span> place = objects[<span class="hljs-number">0</span>] <span class="hljs-comment">// pick a place (in real code check the error and the array length)</span>
    <span class="hljs-keyword">var</span> join = place.get(<span class="hljs-string">'events'</span>) <span class="hljs-comment">// here you have a special object with two attributes</span>

    <span class="hljs-keyword">var</span> events = join.result <span class="hljs-comment">// this is an array of `event` objects</span>
    <span class="hljs-keyword">var</span> count = join.count <span class="hljs-comment">// total count of objects in the relationship</span>

    <span class="hljs-comment">// For example you can iterate the joined objects of the picked place</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;events.length; i++) {
        <span class="hljs-keyword">var</span> event = events[i]
        <span class="hljs-keyword">var</span> name = event.get(<span class="hljs-string">'name'</span>)
        <span class="hljs-comment">// ...</span>
    }
})
</code></pre>
<p>If you are only interested in the number of objects in a relationship you can just query using for example join events. Check the BQL documentation for further information.</p>
<h2 id="special-objects">Special objects</h2>
<p>There are a couple of special objects. When using fields of type location, their values are encapsulated in objects of type backbeam.Location. This object has the following attributes:</p>
<ul>
<li><code>addr</code> The human readable address (can contain the country, street,...)</li>
<li><code>lat</code> The latitude</li>
<li><code>lon</code> The longitude</li>
<li><code>alt</code> The altitude. Always optional</li>
</ul>
<p>You can create a location object like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">new</span> backbeam.Location(<span class="hljs-string">'Barcelona'</span>, <span class="hljs-number">41.403611</span>, <span class="hljs-number">2.174444</span>) <span class="hljs-comment">// you can add an optional last parameter for the altitude</span>
</code></pre>
<p>For fields of type day there is also a special object type: <code>backbeam.Day</code>. This object is timezone-agnostic. That&#39;s why the native <code>Date</code> object is not used for day fields. There are multiple ways to create a backbeam.Day object</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> today = <span class="hljs-keyword">new</span> backbeam.Day()
<span class="hljs-keyword">var</span> dayFromDate = <span class="hljs-keyword">new</span> backbeam.Day(someJSDateObject) <span class="hljs-comment">// uses Date.getFullYear(), Date.getMonth()+1 and Date.getDate() internally</span>
<span class="hljs-keyword">var</span> otherDay = <span class="hljs-keyword">new</span> backbeam.Day(<span class="hljs-number">2013</span>, <span class="hljs-number">8</span>, <span class="hljs-number">31</span>)
</code></pre>
<p>A backbeam.Day has the following attributes:</p>
<ul>
<li><code>year</code> The year</li>
<li><code>month</code> The month (Jaunuary == 1)</li>
<li><code>day</code> The day of the month</li>
</ul>
<h2 id="users-authentication">Users authentication</h2>
<p>One of the functionalities of the SDK is to remember the authenticated user between sessions of the application. You can always access the current authenticated user using <code>backbeam.currentUser()</code> and you can logout the user by calling <code>backbeam.logout()</code>. In further sections you will see how to authenticate your user, but these methods apply to all of the authentication mechanisms.</p>
<p>If the user has been authenticated using an external provider (Twitter, Facebook, etc.) you can access information of that user from the external identity providers by using some of these methods:</p>
<ul>
<li>user.getTwitterData(key)</li>
<li>user.getFacebookData(key)</li>
<li>user.getGooglePlusData(key)</li>
<li>user.getLinkedInData(key)</li>
<li>user.getGitHubData(key)</li>
</ul>
<p>For example you can access the id, name or link of a user authenticated with Facebook. If the user has been signed up with Twitter you can access the id, name, screen_name or image and finally if a user has been signed up with Google+ you can access the id, name or image properties.</p>
<p>Users can have multiple authentication mechanisms. If a user is already authenticated and you authenticate it agaist Twitter, Facebook or Google+ authentication then the user is linked to these new providers. No new account is created, the already existing user is liked to those providers. If that&#39;s not the behaviour you are expecting just call <code>backbeam.logout()</code> first.</p>
<h2 id="caching">Caching</h2>
<p>Queries and controllers invocations can be cached. In order to use this caching mechanism you need to call the policy method in the query object:</p>
<pre><code class="lang-javascript">backbeam.select(<span class="hljs-string">'event'</span>).query(<span class="hljs-string">'join place'</span>).policy(<span class="hljs-string">'local or remote'</span>).fetch(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, objects, totalCount, fromCache)</span> {</span>
  <span class="hljs-comment">// do something</span>
})
</code></pre>
<p>The possible cache policies are:</p>
<ul>
<li><code>&quot;local&quot;</code>
The query result is read from the cache. If no value is present an error is passed to the callback function
remote
The cache is not read. The result is fetched only from the remote server</li>
<li><code>&quot;local and remote&quot;</code>
The query result is read from the cache. Then the result is fetched from the remote server. If the value is not present in the cache, the callback function is only called once. If a value is found in the cache the callback function will be called twice.</li>
<li><code>&quot;local or remote&quot;</code>
The query result is read from the cache. If a value is found the callback function is called and the remote server is not called. If there is not a cached result the server is called and the callback function is called once.</li>
</ul>
<p>You can always know if a value has been fetched from the cache or not using the fourth parameter of the callback that is a boolean value whose value will be true if the value was read from the cache.</p>
<p>In order to use the cache mechanism you need to configure it in the configure method:</p>
<pre><code class="lang-javascript">backbeam.configure({ ..., cache: { type: <span class="hljs-string">'default'</span> }}
</code></pre>
<p>At this moment there are two builtin cache implementations. You can use default to use an in-memory cache. You can set the cache type to <code>&quot;localStorage&quot;</code> to use a cache implementation that uses the web browser&#39;s local storage (supported in most browsers).</p>
<p>You can configure your own cache implementation using:</p>
<pre><code class="lang-javascript">{ type: <span class="hljs-string">'customStorage'</span>, impl: <span class="hljs-keyword">new</span> MyCacheImpl()}
</code></pre>
<p>Where <code>impl</code> is an object with the same API than the <code>JSCache</code> library.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./android-realtime.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./javascript-data.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"sepia","family":"serif","size":1},"disqus":{"shortName":"backbeamdocs"}};
    gitbook.start(config);
});
</script>

    </body>
</html>
