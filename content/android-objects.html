<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Objects and query results | Backbeam.io documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="backbeam">
        <meta name="description" content="Welcome to the Backbeam documentation. This documentation describes the [Backbeam.io service](https://backbeam.io) and its SDKs.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./android-data.html" />
        
        
        <link rel="prev" href="./android-sdk.html" />
        

        <meta property="og:title" content="Objects and query results | Backbeam.io documentation">
        <meta property="og:site_name" content="Backbeam.io documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/backbeam">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="backbeam/backbeam.github.io" data-level="3.1" data-basepath="." data-revision="1400118303354">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://backbeam.io/documentation" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/backbeam/backbeam.github.io/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/backbeam/backbeam.github.io/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Backbeam.io documentation</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        

        

        
        <li>
            <a href="https://github.com/backbeam/backbeam.github.io/edit/master/android-objects.md" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="overview.html">
                
                <a href="./overview.html">
                    <i class="fa fa-check"></i> <b>1.</b> Features
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="overview-query-language.html">
                            
                            <a href="./overview-query-language.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Query language
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="overview-business-logic.html">
                            
                            <a href="./overview-business-logic.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Where to write the business logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="overview-authentication.html">
                            
                            <a href="./overview-authentication.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="overview-push-notifications.html">
                            
                            <a href="./overview-push-notifications.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="overview-email-delivery.html">
                            
                            <a href="./overview-email-delivery.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Email templates and delivery
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="overview-realtime.html">
                            
                            <a href="./overview-realtime.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="overview-templating-engine.html">
                            
                            <a href="./overview-templating-engine.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> Templating engine
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="ios-sdk.html">
                
                <a href="./ios-sdk.html">
                    <i class="fa fa-check"></i> <b>2.</b> iOS SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="ios-objects.html">
                            
                            <a href="./ios-objects.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Objects and query results
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="ios-data.html">
                            
                            <a href="./ios-data.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="ios-authentication.html">
                            
                            <a href="./ios-authentication.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="ios-server-side-logic.html">
                            
                            <a href="./ios-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="ios-push-notifications.html">
                            
                            <a href="./ios-push-notifications.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="ios-realtime.html">
                            
                            <a href="./ios-realtime.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="android-sdk.html">
                
                <a href="./android-sdk.html">
                    <i class="fa fa-check"></i> <b>3.</b> Android SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="android-objects.html">
                            
                            <a href="./android-objects.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Objects and query results
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="android-data.html">
                            
                            <a href="./android-data.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="android-authentication.html">
                            
                            <a href="./android-authentication.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="android-server-side-logic.html">
                            
                            <a href="./android-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="android-push-notifications.html">
                            
                            <a href="./android-push-notifications.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="android-realtime.html">
                            
                            <a href="./android-realtime.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="javascript-sdk.html">
                
                <a href="./javascript-sdk.html">
                    <i class="fa fa-check"></i> <b>4.</b> JavaScript SDK
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="javascript-data.html">
                            
                            <a href="./javascript-data.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Manipulating data
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="javascript-authentication.html">
                            
                            <a href="./javascript-authentication.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Users authentication
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="javascript-server-side-logic.html">
                            
                            <a href="./javascript-server-side-logic.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Server side logic
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="javascript-push-notifications.html">
                            
                            <a href="./javascript-push-notifications.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Push notifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="javascript-realtime.html">
                            
                            <a href="./javascript-realtime.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Realtime
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="web-development.html">
                
                <a href="./web-development.html">
                    <i class="fa fa-check"></i> <b>5.</b> Web development
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="web-development-versioning.html">
                            
                            <a href="./web-development-versioning.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Versioning
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="web-development-controllers.html">
                            
                            <a href="./web-development-controllers.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Controllers
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="web-development-domains.html">
                            
                            <a href="./web-development-domains.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Subdomains and custom domain
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="web-development-views.html">
                            
                            <a href="./web-development-views.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Views (templates)
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="web-development-assets.html">
                            
                            <a href="./web-development-assets.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> Assets
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="rest-api.html">
                
                <a href="./rest-api.html">
                    <i class="fa fa-check"></i> <b>6.</b> REST API
                </a>
                
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 48.57142857142857%;min-width: 45.714285714285715%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Features" class="chapter done new-chapter" data-progress="1" style="left: 2.857142857142857%;"></a>
    
        <a href="./overview-query-language.html" title="Query language" class="chapter done " data-progress="1.1" style="left: 5.714285714285714%;"></a>
    
        <a href="./overview-business-logic.html" title="Where to write the business logic" class="chapter done " data-progress="1.2" style="left: 8.571428571428571%;"></a>
    
        <a href="./overview-authentication.html" title="Users authentication" class="chapter done " data-progress="1.3" style="left: 11.428571428571429%;"></a>
    
        <a href="./overview-push-notifications.html" title="Push notifications" class="chapter done " data-progress="1.4" style="left: 14.285714285714286%;"></a>
    
        <a href="./overview-email-delivery.html" title="Email templates and delivery" class="chapter done " data-progress="1.5" style="left: 17.142857142857142%;"></a>
    
        <a href="./overview-realtime.html" title="Realtime" class="chapter done " data-progress="1.6" style="left: 20%;"></a>
    
        <a href="./overview-templating-engine.html" title="Templating engine" class="chapter done " data-progress="1.7" style="left: 22.857142857142858%;"></a>
    
        <a href="./ios-sdk.html" title="iOS SDK" class="chapter done new-chapter" data-progress="2" style="left: 25.714285714285715%;"></a>
    
        <a href="./ios-objects.html" title="Objects and query results" class="chapter done " data-progress="2.1" style="left: 28.571428571428573%;"></a>
    
        <a href="./ios-data.html" title="Manipulating data" class="chapter done " data-progress="2.2" style="left: 31.428571428571427%;"></a>
    
        <a href="./ios-authentication.html" title="Users authentication" class="chapter done " data-progress="2.3" style="left: 34.285714285714285%;"></a>
    
        <a href="./ios-server-side-logic.html" title="Server side logic" class="chapter done " data-progress="2.4" style="left: 37.142857142857146%;"></a>
    
        <a href="./ios-push-notifications.html" title="Push notifications" class="chapter done " data-progress="2.5" style="left: 40%;"></a>
    
        <a href="./ios-realtime.html" title="Realtime" class="chapter done " data-progress="2.6" style="left: 42.857142857142854%;"></a>
    
        <a href="./android-sdk.html" title="Android SDK" class="chapter done new-chapter" data-progress="3" style="left: 45.714285714285715%;"></a>
    
        <a href="./android-objects.html" title="Objects and query results" class="chapter done " data-progress="3.1" style="left: 48.57142857142857%;"></a>
    
        <a href="./android-data.html" title="Manipulating data" class="chapter  " data-progress="3.2" style="left: 51.42857142857143%;"></a>
    
        <a href="./android-authentication.html" title="Users authentication" class="chapter  " data-progress="3.3" style="left: 54.285714285714285%;"></a>
    
        <a href="./android-server-side-logic.html" title="Server side logic" class="chapter  " data-progress="3.4" style="left: 57.142857142857146%;"></a>
    
        <a href="./android-push-notifications.html" title="Push notifications" class="chapter  " data-progress="3.5" style="left: 60%;"></a>
    
        <a href="./android-realtime.html" title="Realtime" class="chapter  " data-progress="3.6" style="left: 62.857142857142854%;"></a>
    
        <a href="./javascript-sdk.html" title="JavaScript SDK" class="chapter  new-chapter" data-progress="4" style="left: 65.71428571428571%;"></a>
    
        <a href="./javascript-data.html" title="Manipulating data" class="chapter  " data-progress="4.1" style="left: 68.57142857142857%;"></a>
    
        <a href="./javascript-authentication.html" title="Users authentication" class="chapter  " data-progress="4.2" style="left: 71.42857142857143%;"></a>
    
        <a href="./javascript-server-side-logic.html" title="Server side logic" class="chapter  " data-progress="4.3" style="left: 74.28571428571429%;"></a>
    
        <a href="./javascript-push-notifications.html" title="Push notifications" class="chapter  " data-progress="4.4" style="left: 77.14285714285714%;"></a>
    
        <a href="./javascript-realtime.html" title="Realtime" class="chapter  " data-progress="4.5" style="left: 80%;"></a>
    
        <a href="./web-development.html" title="Web development" class="chapter  new-chapter" data-progress="5" style="left: 82.85714285714286%;"></a>
    
        <a href="./web-development-versioning.html" title="Versioning" class="chapter  " data-progress="5.1" style="left: 85.71428571428571%;"></a>
    
        <a href="./web-development-controllers.html" title="Controllers" class="chapter  " data-progress="5.2" style="left: 88.57142857142857%;"></a>
    
        <a href="./web-development-domains.html" title="Subdomains and custom domain" class="chapter  " data-progress="5.3" style="left: 91.42857142857143%;"></a>
    
        <a href="./web-development-views.html" title="Views (templates)" class="chapter  " data-progress="5.4" style="left: 94.28571428571429%;"></a>
    
        <a href="./web-development-assets.html" title="Assets" class="chapter  " data-progress="5.5" style="left: 97.14285714285714%;"></a>
    
        <a href="./rest-api.html" title="REST API" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_4">
                    
                        <h1 id="objects-and-query-results">Objects and query results</h1>
<p>Regardless you are using client-side or server-side code you will handle information wrapped in objects. In this section you will learn the basic classes and methods available to access that information.</p>
<blockquote>
<p>If you are going to write server-side logic and you
will always return JSON to the client-side code then
You are not interested in these topics about objects
and query results. But you are interested in the
documentation about Json objects in the end of this
section.
After that, check the <a href="android-servers-side.html">server-side logic section</a> to learn how to
invoke the server-side logic from your Java code</p>
</blockquote>
<h2 id="objects">Objects</h2>
<p>Most of the time you will read and manipulate the data stored in the database using <code>BackbeamObject</code>. This is a very basic class that encapsulates the information of a record in your database. You can access its fields and some other metainformation. These are the most important methods in the <code>BackbeamObject</code> class:</p>
<ul>
<li><code>String getString(String field)</code> Returns the value of the given field if it is a String. If it is not present or it is not a String this method returns null</li>
<li><code>String getId()</code> Returns the unique identifier of this object or null if this object hasn&#39;t been stored in the database yet</li>
<li><code>Date getCreatedAt()</code> Returns the date in which this object was created or null if this object hasn&#39;t been stored in the database yet</li>
<li><code>Date getUpdatedAt()</code> Returns the date in which this object was created or null if this object hasn&#39;t been stored in the database yet</li>
<li><code>Date getDate(String fieldName)</code> Returns the value of a date field</li>
<li><code>Number getNumber(String fieldName)</code> Returns the value of a numeric field</li>
<li><code>Json getJson(String fieldName)</code> Returns the value of a JSON field</li>
<li><code>Boolean getBoolean(String fieldName)</code> Returns the value of a boolean field</li>
<li><code>GregorianCalendar getDay(String fieldName)</code> Returns the value of a &quot;day&quot; field</li>
<li><code>BackbeamObject getObject(String fieldName)</code> Returns the value of a relationship &quot;to-one&quot;</li>
<li><code>Location getLocation(String fieldName)</code> Returns the value of a &quot;location&quot; field</li>
<li><code>String getEntity()</code> Returns the identifier of the entity this object is member of</li>
<li><code>boolean isNew()</code> Returns true if this object hasn&#39;t been stored yet</li>
<li><code>boolean isEmpty()</code> Returns true if this object does not have any field value defined yet</li>
<li><code>boolean isDirty()</code> Returns true if there are pending changes in this object to be saved</li>
</ul>
<p>You have equivalent methods to set the values of each field depending on its value type, but you only need them when using client-side business logic. You will learn more about that in the section about <a href="android-data.html">manipulating data</a>.</p>
<h2 id="join-results">Join results</h2>
<p>Many times you will perform joins in your BQL queries and other operations. If the join is made in a relationship &quot;to one&quot; you can just use obj.getObject(fieldname) to get the value of the relationship. Let&#39;s see an example where the BQL query is made in the client side:</p>
<pre><code class="lang-java">Backbeam.select(<span class="hljs-string">"event"</span>)
    .setQuery(<span class="hljs-string">"join place"</span>)
    .fetch(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> FetchCallback() {

      <span class="hljs-annotation">@Override</span>
      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">success</span>(List&lt;BackbeamObject&gt; objects,
        <span class="hljs-keyword">int</span> totalCount, <span class="hljs-keyword">boolean</span> fromCache) {
        <span class="hljs-comment">// pick a place (in real code check the objects.size() first)</span>
        BackbeamObject event = objects.get(<span class="hljs-number">0</span>);
        BackbeamObject place = event.getObject(<span class="hljs-string">"place"</span>);
      }
});
</code></pre>
<p>You can also make joins in the &quot;to many&quot; side of a relationship. In that case you can fetch a number of objects in the relationship and you can always get the total number of objects in the relationship.</p>
<pre><code class="lang-java">Backbeam.select(<span class="hljs-string">"place"</span>)
    .setQuery(<span class="hljs-string">"join last 10 events"</span>)
    .fetch(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> FetchCallback() {

      <span class="hljs-annotation">@Override</span>
      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">success</span>(List&lt;BackbeamObject&gt; objects,
        <span class="hljs-keyword">int</span> totalCount, <span class="hljs-keyword">boolean</span> fromCache) {
        <span class="hljs-comment">// pick a place (in real code check the objects.size() first)</span>
        BackbeamObject place = objects.get(<span class="hljs-number">0</span>);
        JoinResult join = place.getJoinResult(<span class="hljs-string">"events"</span>);

        List&lt;BackbeamObject&gt; events = join.getResults();
        <span class="hljs-keyword">int</span> count = join.getCount();
      }
});
</code></pre>
<p>If you are only interested in the number of objects in a relationship you can just query using for example join events. Check the <a href="overview-query-language.html">BQL documentation</a> for further information.</p>
<h2 id="users-authentication">Users authentication</h2>
<p>One of the functionalities of the SDK is to remember the authenticated user between sessions of the application. You can always access the current authenticated user using <code>Backbeam.currentUser()</code> and you can logout the user by calling <code>Backbeam.logout()</code>. This applies to all authentication mechanisms.</p>
<h2 id="json-objects">Json objects</h2>
<p>Backbeam comes with a JSON implementation. This implementation is contained in a sigle class: <code>io.backbeam.Json</code>. A <code>Json</code> object wraps any kind of JSON structure. This is, a Json object can contain a boolean value, a <code>String</code>, a <code>Map</code>, a <code>List</code>, a number or <code>null</code>. You can check wich type of object is wrapped using its <code>isXXX()</code> methods: <code>isString()</code>, <code>isNumber()</code>, <code>isBoolean()</code>, <code>isMap()</code>, <code>isList()</code> or <code>isNull()</code>.</p>
<p>You are interested in these kind of objects in two circumstances. If you are using the JSON field type the SDK will serialize and deserialize using the <code>Json</code> class. And if you are invoking server-side logic that returns data in the JSON format you will receive the information encapsulated in this type of object.</p>
<h3 id="manually-serializing-and-deserializing">Manually serializing and deserializing</h3>
<p>Usually you will only want to create and use <code>Json</code> objects and you won&#39;t care about the serialization and deserialization. But if you are interested it&#39;s pretty simple.</p>
<p>This way you can parse a <code>String</code> that contains JSON:</p>
<pre><code class="lang-java">Json data = Json.loads(<span class="hljs-string">"[1, 2, 3, null, true]"</span>);
</code></pre>
<p>And just calling the <code>toString()</code> method generates a <code>String</code> in JSON format with the content of the <code>Json</code> object.</p>
<h3 id="objects-maps">Objects / Maps</h3>
<p>You can create a JSON object / map as follows:</p>
<pre><code class="lang-java">Json json = Json.map()
        .put(<span class="hljs-string">"key1"</span>, <span class="hljs-number">1234</span>)
        .put(<span class="hljs-string">"key2"</span>, <span class="hljs-keyword">true</span>)
        .put(<span class="hljs-string">"key3"</span>, <span class="hljs-keyword">null</span>)
        .put(<span class="hljs-string">"key4"</span>, <span class="hljs-string">"foo"</span>);
System.out.println(json);
`
</code></pre>
<p>The output:</p>
<pre><code class="lang-javascript">{<span class="hljs-string">"key1"</span>: <span class="hljs-number">1234</span>, <span class="hljs-string">"key2"</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">"key3"</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">"key4"</span>: <span class="hljs-string">"foo"</span>}
</code></pre>
<p>The <code>put(String key, Object value)</code> method accepts <code>Json</code> objects, primitive types, <code>Strings</code> and collections.</p>
<p>To access the information of a JSON object / map you can use the <code>Json get(String key)</code> method:</p>
<pre><code class="lang-java"><span class="hljs-keyword">int</span> value1 = json.get(<span class="hljs-string">"key1"</span>).asInt();
</code></pre>
<p>You have several <code>asXXX()</code> methods that return standart types (<code>boolean</code>, <code>int</code>, <code>String</code>, etc).</p>
<h3 id="json-arrays-lists">JSON arrays / lists</h3>
<p>You can create a Json array / list as follows:</p>
<pre><code class="lang-java">Json json = Json.list(<span class="hljs-string">"foo"</span>, [], {}, <span class="hljs-keyword">true</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">null</span>, <span class="hljs-number">1234</span>);
</code></pre>
<p>The output:</p>
<pre><code class="lang-javascript">[<span class="hljs-string">"foo"</span>, [], {}, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">1234</span>]
</code></pre>
<p>You can access the elements of the list using the <code>Json at(int index)</code> method.</p>
<pre><code class="lang-java"><span class="hljs-keyword">int</span> size = json.size();
<span class="hljs-keyword">boolean</span> b = json.at(<span class="hljs-number">3</span>).bool();
</code></pre>
<p>You can add elements to the underlying list using <code>add(Object...objects)</code>. You can pass <code>Json</code> objects, primitive types, <code>Strings</code> or collections.</p>
<h3 id="complex-example-">Complex example:</h3>
<p>You can use the <code>import static</code> statement and use <code>list()</code> and <code>map()</code> directly. Which lets you do complex JSON structures with less code:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> siena.Json.*;
...

Json json = list(<span class="hljs-string">"foo"</span>, <span class="hljs-string">"bar"</span>, <span class="hljs-string">"baz"</span>,
        map().put(<span class="hljs-string">"key1"</span>, <span class="hljs-keyword">true</span>)
                .put(<span class="hljs-string">"key2"</span>, <span class="hljs-keyword">false</span>)
                .put(<span class="hljs-string">"key3"</span>, list(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)));
System.out.println(json);
</code></pre>
<p>The output:</p>
<pre><code class="lang-javascript">[<span class="hljs-string">"foo"</span>, <span class="hljs-string">"bar"</span>, <span class="hljs-string">"baz"</span>, {<span class="hljs-string">"key1"</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">"key2"</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">"key3"</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]}]
</code></pre>
<h3 id="converting-from-arrays-and-collections">Converting from arrays and collections</h3>
<p>You can also create <code>Json</code> objects from plain Java arrays or collections. The Json constructor accepts arrays, collections and maps. Examples:</p>
<pre><code class="lang-java">Json fromArray = <span class="hljs-keyword">new</span> Json(<span class="hljs-keyword">new</span> Object[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>});
Json fromCollection = <span class="hljs-keyword">new</span> Json(Arrays.asList(<span class="hljs-keyword">new</span> Object[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>}));
Map&lt;String, Object&gt; m = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();
m.put(<span class="hljs-string">"foo"</span>, <span class="hljs-number">1</span>);
Json fromMap = <span class="hljs-keyword">new</span> Json(m);
`
</code></pre>
<h2 id="where-to-go-next">Where to go next</h2>
<p>If you are using client-side business logic then you should learn: <a href="android-data.html">how to mamipulate data</a>, <a href="android-authentication.html">users authentication</a>, and <a href="android-push-notifications.html">push notifications</a>.</p>
<p>If you think that server-side logic is better for your needs then you should learn <a href="android-server-side-logic.html">how to invoke the server-side logic from your Java code</a>.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./android-sdk.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./android-data.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"sepia","family":"serif","size":1},"disqus":{"shortName":"backbeamdocs"}};
    gitbook.start(config);
});
</script>

    </body>
</html>
